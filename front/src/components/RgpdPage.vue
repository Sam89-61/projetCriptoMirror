<template>
  <div class="container mx-auto px-4 py-12 max-w-4xl">

    <div class="text-center mb-12 bg-black/40 backdrop-blur-sm border border-white/10 rounded-xl p-8">
      <p class="text-xs text-emerald-400 tracking-[0.3em] uppercase mb-3">Conformit√© & √âthique</p>
      <h1 class="text-4xl font-bold text-white mb-4">Privacy by Design</h1>
      <p class="text-slate-400 max-w-xl mx-auto text-sm leading-relaxed">
        Comment Cyber Mirror respecte le RGPD et prot√®ge les utilisateurs d√®s la conception.
      </p>
    </div>

    <div class="bg-black/40 backdrop-blur-sm border border-emerald-500/30 rounded-xl p-6 mb-10 flex gap-4 items-start">
      <span class="text-2xl mt-0.5">üõ°Ô∏è</span>
      <div>
        <p class="text-emerald-300 font-semibold mb-1">Aucune donn√©e personnelle collect√©e</p>
        <p class="text-slate-400 text-sm leading-relaxed">
          Toutes les r√©ponses du questionnaire sont <strong class="text-slate-200">fictives et simul√©es</strong>.
          Elles ne sont jamais stock√©es sur un serveur, ne transitent pas vers une base de donn√©es, et sont
          d√©truites d√®s la fermeture de la session navigateur.
        </p>
      </div>
    </div>

    <div class="space-y-6">

      <!-- 1. Principes RGPD -->
      <div class="bg-black/40 backdrop-blur-sm border border-white/10 rounded-xl p-6">
        <h2 class="text-base font-semibold text-cyan-400 uppercase tracking-wider mb-4 flex items-center gap-2">
          <span>üìã</span> 1. Principes RGPD appliqu√©s
        </h2>
        <div class="grid sm:grid-cols-2 gap-4">
          <div v-for="principe in principes" :key="principe.titre"
            class="bg-white/5 rounded-lg p-4 border border-white/5">
            <p class="text-emerald-400 text-xs font-semibold uppercase tracking-wider mb-1">{{ principe.titre }}</p>
            <p class="text-slate-400 text-sm leading-relaxed">{{ principe.description }}</p>
          </div>
        </div>
      </div>

      <!-- 2. Architecture technique -->
      <div class="bg-black/40 backdrop-blur-sm border border-white/10 rounded-xl p-6">
        <h2 class="text-base font-semibold text-cyan-400 uppercase tracking-wider mb-4 flex items-center gap-2">
          <span>‚öôÔ∏è</span> 2. Architecture technique & transparence
        </h2>
        <p class="text-slate-400 text-sm leading-relaxed mb-4">
          Le calcul du score de risque est enti√®rement <strong class="text-slate-200">d√©terministe et r√©alis√© c√¥t√© client</strong>,
          sans d√©l√©gation √† l'IA. Ce choix garantit la transparence du traitement, conform√©ment aux principes de
          l'IA explicable (XAI) et du RGPD.
        </p>
        <div class="flex flex-col gap-3">
          <div v-for="etape in architecture" :key="etape.label" class="flex items-start gap-3">
            <span class="text-emerald-400 font-mono text-xs mt-0.5 w-5 shrink-0">{{ etape.num }}</span>
            <div>
              <p class="text-slate-200 text-sm font-medium">{{ etape.label }}</p>
              <p class="text-slate-500 text-xs">{{ etape.detail }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- 3. Anonymisation LLM -->
      <div class="bg-black/40 backdrop-blur-sm border border-white/10 rounded-xl p-6">
        <h2 class="text-base font-semibold text-cyan-400 uppercase tracking-wider mb-4 flex items-center gap-2">
          <span>ü§ñ</span> 3. Anonymisation avant envoi au LLM
        </h2>
        <p class="text-slate-400 text-sm leading-relaxed mb-4">
          Le seul √©l√©ment transmis au mod√®le de langage (Coach Cyber) est un objet JSON contenant
          <strong class="text-slate-200">exclusivement des scores num√©riques et des cat√©gories de risque</strong>.
          Aucun identifiant, aucune r√©ponse textuelle brute, aucune donn√©e permettant d'identifier l'utilisateur
          n'est transmise.
        </p>
        <div class="bg-black/60 rounded-lg p-4 border border-white/5 font-mono text-xs text-slate-400 leading-relaxed">
          <p class="text-emerald-400 mb-1">// Exemple de payload envoy√© au LLM :</p>
          <p>&#123;</p>
          <p class="ml-4">"score_global": <span class="text-cyan-400">47</span>,</p>
          <p class="ml-4">"profil_risque": <span class="text-amber-400">"Mod√©r√©"</span>,</p>
          <p class="ml-4">"scores_par_thematique": [</p>
          <p class="ml-8">&#123; "theme": <span class="text-amber-400">"Mots de passe"</span>, "score": <span class="text-cyan-400">22</span>, "max": <span class="text-cyan-400">40</span> &#125;</p>
          <p class="ml-4">],</p>
          <p class="ml-4">"reponses_a_risque": [</p>
          <p class="ml-8">&#123; "theme": <span class="text-amber-400">"Email"</span>, "question": <span class="text-amber-400">"..."</span>, "points": <span class="text-cyan-400">8</span> &#125;</p>
          <p class="ml-4">]</p>
          <p>&#125;</p>
        </div>
        <p class="text-slate-500 text-xs mt-3 italic">
          Aucun nom, pr√©nom, adresse IP ou donn√©e personnelle n'appara√Æt dans ce payload.
        </p>
      </div>

      <!-- 4. Droits utilisateurs -->
      <div class="bg-black/40 backdrop-blur-sm border border-white/10 rounded-xl p-6">
        <h2 class="text-base font-semibold text-cyan-400 uppercase tracking-wider mb-4 flex items-center gap-2">
          <span>‚öñÔ∏è</span> 4. Droits des utilisateurs
        </h2>
        <p class="text-slate-400 text-sm leading-relaxed mb-4">
          Le RGPD garantit aux utilisateurs plusieurs droits fondamentaux. Cyber Mirror est con√ßu pour les
          respecter nativement, sans action particuli√®re de la part de l'√©quipe, puisqu'aucune donn√©e n'est
          conserv√©e.
        </p>
        <div class="grid sm:grid-cols-3 gap-3">
          <div v-for="droit in droits" :key="droit.nom"
            class="bg-white/5 border border-white/5 rounded-lg p-3 text-center">
            <p class="text-lg mb-1">{{ droit.emoji }}</p>
            <p class="text-slate-200 text-xs font-semibold mb-1">{{ droit.nom }}</p>
            <p class="text-slate-500 text-xs">{{ droit.detail }}</p>
          </div>
        </div>
      </div>

      <!-- 5. R√©f√©rences l√©gales -->
      <div class="bg-black/40 backdrop-blur-sm border border-sky-500/20 rounded-xl p-6">
        <h2 class="text-base font-semibold text-sky-400 uppercase tracking-wider mb-4 flex items-center gap-2">
          <span>üìé</span> 5. R√©f√©rences r√©glementaires
        </h2>
        <ul class="space-y-2">
          <li v-for="ref in references" :key="ref.article" class="flex gap-3 items-start">
            <span class="text-sky-400 font-mono text-xs shrink-0 mt-0.5">{{ ref.article }}</span>
            <p class="text-slate-400 text-sm">{{ ref.description }}</p>
          </li>
        </ul>
      </div>

    </div>



  </div>
</template>

<script setup lang="ts">
const principes = [
  {
    titre: "Minimisation des donn√©es",
    description: "Seuls les scores calcul√©s (valeurs num√©riques) sont transmis au LLM. Aucune r√©ponse brute ni donn√©e identifiante n'est utilis√©e."
  },
  {
    titre: "Transparence",
    description: "Le calcul du score est d√©terministe et document√©. L'utilisateur peut comprendre comment son profil est √©tabli."
  },
  {
    titre: "Limitation des finalit√©s",
    description: "Les donn√©es simul√©es ont une unique finalit√© : la d√©monstration p√©dagogique. Aucun profilage r√©el n'est effectu√©."
  },
  {
    titre: "Privacy by Design",
    description: "L'absence de collecte est int√©gr√©e d√®s la conception de l'architecture, pas ajout√©e a posteriori."
  },
  {
    titre: "Absence de stockage",
    description: "Aucune base de donn√©es. Les r√©ponses vivent uniquement en m√©moire vive (Vue.js reactivity) et disparaissent √† la fermeture."
  },
  {
    titre: "S√©curit√© par d√©faut",
    description: "Pas de cookies de tra√ßage, pas de localStorage, pas d'analytics. L'application est stateless par conception."
  }
]

const architecture = [
  {
    num: "01",
    label: "Questionnaire fictif c√¥t√© client",
    detail: "Les r√©ponses sont stock√©es uniquement dans la m√©moire du navigateur (ref Vue.js). Rien n'est envoy√© √† ce stade."
  },
  {
    num: "02",
    label: "Calcul d√©terministe du score",
    detail: "Le moteur de r√®gles (JavaScript) calcule les scores par th√©matique avec pond√©ration. Ce calcul est enti√®rement transparent et auditable."
  },
  {
    num: "03",
    label: "Anonymisation du payload",
    detail: "Seuls les scores num√©riques et les cat√©gories de comportement √† risque sont extraits. Aucune donn√©e identifiante n'est incluse."
  },
  {
    num: "04",
    label: "Appel LLM (Coach Cyber)",
    detail: "Le payload anonymis√© est envoy√© au backend Express qui appelle l'API Groq. La r√©ponse est un texte p√©dagogique bas√© uniquement sur les scores."
  },
  {
    num: "05",
    label: "Restitution et effacement",
    detail: "L'analyse est affich√©e √† l'utilisateur. Un clic sur 'Recommencer' efface toutes les donn√©es de la session."
  }
]

const droits = [
  { emoji: "üîç", nom: "Droit d'acc√®s", detail: "Sans objet ‚Äî aucune donn√©e stock√©e." },
  { emoji: "‚úèÔ∏è", nom: "Droit de rectification", detail: "Sans objet ‚Äî aucune donn√©e persist√©e." },
  { emoji: "üóëÔ∏è", nom: "Droit √† l'effacement", detail: "Automatique √† la fermeture de la session." },
  { emoji: "üö´", nom: "Droit d'opposition", detail: "Sans objet ‚Äî pas de traitement de donn√©es r√©elles." },
  { emoji: "üì¶", nom: "Portabilit√©", detail: "Sans objet ‚Äî aucune donn√©e exportable." },
  { emoji: "ü§ù", nom: "Consentement", detail: "Pas requis ‚Äî donn√©es enti√®rement fictives et simul√©es." }
]

const references = [
  { article: "Art. 5 RGPD", description: "Principes relatifs au traitement des donn√©es : lic√©it√©, loyaut√©, transparence, minimisation, exactitude, limitation de conservation, int√©grit√©." },
  { article: "Art. 25 RGPD", description: "Protection des donn√©es d√®s la conception et protection des donn√©es par d√©faut (Privacy by Design & by Default)." },
  { article: "Art. 32 RGPD", description: "S√©curit√© du traitement : mesures techniques et organisationnelles appropri√©es pour garantir un niveau de s√©curit√© adapt√©." },
  { article: "Art. 35 RGPD", description: "Analyse d'impact relative √† la protection des donn√©es (AIPD) ‚Äî non requise ici car aucun traitement de donn√©es r√©elles." }
]
</script>
